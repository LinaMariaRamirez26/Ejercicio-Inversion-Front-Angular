<div class="container my-5">
  <div class="text-center mb-4">
    <h2 class="fw-bold text-primary">🌟 Fondos de Inversión Disponibles</h2>
    <hr>
    <p class="text-muted">Selecciona un fondo para suscribirte y empezar a invertir</p>
  </div>

  <div *ngIf="cargando" class="text-center my-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
    <p class="mt-3 text-muted">Cargando fondos de inversión...</p>
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="error && !cargando" class="alert alert-danger shadow-sm" role="alert">
    <h4 class="alert-heading">Error de conexión</h4>
    <p>{{error}}</p>
    <hr>
    <p class="mb-0 small">Verifica que el backend esté ejecutándose en
      <code>http://localhost:8080</code>
    </p>
  </div>

  <!-- Mensaje cuando no hay fondos disponibles -->
  <div *ngIf="fondos && fondos.length === 0 && !cargando && !error"
       class="alert alert-info text-center shadow-sm" role="alert">
    <h4 class="alert-heading">ℹ️ No hay fondos disponibles</h4>
    <p>No se encontraron fondos de inversión en el sistema.</p>
  </div>

  <!-- Lista de fondos -->
  <div class="row g-4" *ngIf="fondos && fondos.length > 0">
    <div *ngFor="let fondo of fondos" class="col-12 col-sm-6 col-lg-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-header bg-gradient bg-primary text-white text-center fw-bold">
          {{fondo.nombre}}
        </div>
        <div class="card-body d-flex flex-column justify-content-between">
          <p class="card-text text-muted" *ngIf="fondo.descripcion; else noDesc">
            {{fondo.descripcion}}
          </p>
          <ng-template #noDesc>
            <p class="card-text text-muted fst-italic">Fondos de Inversión BTG PACTUAL </p>
          </ng-template>

          <div class="text-center mt-3">
            <a [routerLink]="['/suscribir', fondo.id]"
               class="btn btn-success w-100">
              Suscribir
            </a>
          </div>
        </div>
        <div class="card-footer text-muted text-center small">
          Monto mínimo: <strong>${{ fondo.montoMinimo | number:'1.0-0' }} COP</strong>
        </div>
      </div>
    </div>
  </div>
</div>
